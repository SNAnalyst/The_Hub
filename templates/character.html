{% extends 'base.html' %}
{% block content %}

<style type="text/css">

  #bio {
    white-space: pre-wrap;
  }

  /*img {
    width: 90%;
    height: auto;
  }*/

  .image {
    float: left;
    margin: 2%;
  }

  .info {
    float: left;
    margin: 5%;
  }

  .container{
    display: flex;
    margin-right: 12%;
}
.fixed{
    width: 400px;
}
.flex-item{
    flex-grow: 1;
}


</style>


<div class="container">
  <div class="fixed"><img src="../{{ character.image }}"></div>
  <div class="flex-item">
    <h2>{{ character.name }}</h2>
    <p><b>Portrayed by:</b> {{ character.actor }}</p>
    <p id="bio"><b>Character Summary:</b><br>{{ char_bio }}<p>
  </div>
</div>

<!-- <div>
  <div class="image">
      
  </div>

  <div class="info">
    
  </div>
</div>
 -->


<!-- ADD DIVS, ETC, TO CREATE LAYOUT -->

  

  <br><br>


  <b>Connected to:</b><br>
  {% for c in relationships %}
    <a href="/character/{{ c.name }}">{{ c.name }}</a>
    <br>
  {% endfor %}

  <br>

  <b>Appears in:</b><br>
  {% for series in appearances %}
    <a href="/series/{{ series.name }}">{{ series.name }}</a>
    <br>
    {% endfor %}

    <br>

  {% if "user_id" in session %}
    <h4>Character Rating:</h4>
    {% if user_rating %}
      <p>You rated this character {{ user_rating.score }} out of 5</p>
    {% else %}
      <form action="/character/{{ character.name }}" method="POST">
          <select name="score">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
          </select>
        <input type="submit" value="Rate">
      </form>
    {% endif %}
  {% endif %}
  <p>{{ avg_rating }}</p>

  <br>
  <hr>

{% endblock %}
