{% extends 'base.html' %}
{% block content %}

<style type="text/css">

/* Move all this into CSS file once you get layout sorted
Play with it here for now so you don't get totally confused... */

  #bio {
    white-space: pre-wrap;
    text-align: justify;
  }

  b i {
    font-size: 16px;
  }

  .parent {
  display: flex;
}

.col-l {
  width: 30%;
  /*padding-top: 1%;*/
  margin-left: 2%;
}

.col-r {
  width: 70%;
  /*padding-top: 1%;*/
  margin-right: 13%
}

.image {
  width: 90%;
  height: auto;
}

.pg-title {
  font-size: 38px;
  font-weight: bold;
}

</style>


<div class="parent">
  <div class="col-l">
    <img class="image" src="../{{ character.image }}">
  </div>
  <div class="col-r">
    <h2 class="pg-title">{{ character.name }}</h2>
    <p><b><i>Portrayed by:</i></b> {{ character.actor }}</p>
    <p id="bio"><b><i>Character Summary:</i></b><br>{{ char_bio }}<p>
  </div>  
</div>

  <br><br>

  <b>Connected to:</b><br>
  {% for c in relationships %}
    <a href="/character/{{ c.name }}">{{ c.name }}</a>
    <br>
  {% endfor %}

  <br>

  <b>Appears in:</b><br>
  {% for series in appearances %}
    <a href="/series/{{ series.name }}">{{ series.name }}</a>
    <br>
    {% endfor %}

    <br>

  {% if "user_id" in session %}
    <h4>Character Rating:</h4>
    {% if user_rating %}
      <p>You rated this character {{ user_rating.score }} out of 5</p>
    {% else %}
      <form action="/character/{{ character.name }}" method="POST">
          <select name="score">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
          </select>
        <input type="submit" value="Rate">
      </form>
    {% endif %}
  {% endif %}
  <p>{{ avg_rating }}</p>

{% endblock %}
